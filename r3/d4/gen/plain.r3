| r3/games/jetpack.r3| r3 optimizer#w0#w1#w2#w3#w4#w5#w6#w7#w8#w9#wA#wB#wC#wD#wE#wF#w10#w11#w12#w13#w14#w15#w16#w17#w18#w19#w1A#w1B#w1C#w1D#w1E#w1F#w20#w21#w22#w23#w24#w25#w26#w27#w28#w29#w2A#w2B#w2C:w5A "KERNEL32.DLL" LOADLIB DUP "AllocConsole" GETPROC 'w0 ! DUP "FreeConsole" GETPROC 'w1 ! DUP "ExitProcess" GETPROC 'w2 ! DUP "GetStdHandle" GETPROC 'w3 ! DUP "SetStdHandle" GETPROC 'w4 ! DUP "ReadFile" GETPROC 'w5 ! DUP "WriteFile" GETPROC 'w6 ! DUP "GetConsoleMode" GETPROC 'w7 ! DUP "SetConsoleMode" GETPROC 'w8 ! DUP "SetConsoleTitleA" GETPROC 'w9 ! DUP "PeekConsoleInputW" GETPROC 'wA ! DUP "ReadConsoleInputW" GETPROC 'wB ! DUP "WriteConsole" GETPROC 'wC ! DUP "WriteConsoleOutputA" GETPROC 'wD ! DUP "GetNumberOfConsoleInputEvents" GETPROC 'wF ! DUP "FlushConsoleInputBuffer" GETPROC 'wE ! DUP "Sleep" GETPROC 'w10 ! DUP "WaitForSingleObject" GETPROC 'w11 ! DUP "GetLastError" GETPROC 'w12 ! DUP "CreateFileA" GETPROC 'w13 ! DUP "CloseHandle" GETPROC 'w14 ! DUP "FlushFileBuffers" GETPROC 'w15 ! DUP "DeleteFileA" GETPROC 'w16 ! DUP "MoveFileA" GETPROC 'w17 ! DUP "SetFilePointer" GETPROC 'w18 ! DUP "SetEndOfFile" GETPROC 'w19 ! DUP "GetFileAttributesA" GETPROC 'w1A ! DUP "GetFileAttributesExA" GETPROC 'w1B ! DUP "GetFileSize" GETPROC 'w1C ! DUP "GetProcessHeap" GETPROC 'w1D ! DUP "HeapAlloc" GETPROC 'w1E ! DUP "HeapFree" GETPROC 'w1F ! DUP "HeapReAlloc" GETPROC 'w20 ! DUP "GetLocalTime" GETPROC 'w22 ! DUP "FindFirstFileA" GETPROC 'w23 ! DUP "FindNextFileA" GETPROC 'w24 ! DUP "FindClose" GETPROC 'w25 ! DUP "CreateProcessA" GETPROC 'w26 ! DUP "GetTickCount" GETPROC 'w21 ! DUP "GetConsoleScreenBufferInfo" GETPROC 'w27 ! DUP "GetCommandLineA" GETPROC 'w2A ! DUP "SetConsoleScreenBufferSize" GETPROC 'w28 ! DUP "SetConsoleWindowInfo" GETPROC 'w29 ! DUP "GetConsoleWindow" GETPROC 'w2B ! DROP "USER32.DLL" LOADLIB DUP "ShowWindow" GETPROC 'w2C ! DROP ;:w79 SWAP OVER - DUP $3F >> AND + ;:w7A DUP ROT - DUP $3F >> AND - ;:w9E DUP $1 >> OVER $2 >> + DUP $4 >> + DUP $8 >> + DUP $10 >> + DUP $20 >> + $3 >> OVER OVER DUP $2 << + $1 << - $6 + $4 >> + SWAP OVER DUP $2 << + $1 << - ;#wC2 * 65:wC3 'wC2 $40 + $0 OVER C! $1 - ;:wC4 -? ( DROP $2D OVER C! ; ) DROP $1 + ;:wC5 DUP ABS -? ( 2DROP "-9223372036854775808" ; ) wC3 SWAP ( w9E $30 + PICK2 C! SWAP $1 - SWAP 1? ) DROP SWAP wC4 ;:wC6 wC3 SWAP ( DUP $1 AND $30 + PICK2 C! SWAP $1 - SWAP $1 >>> 1? ) DROP $1 + ;:wC7 wC3 SWAP ( DUP $F AND $30 + $39 >? ( $7 + ) PICK2 C! SWAP $1 - SWAP $4 >>> 1? ) DROP $1 + ;:wC8 wC3 SWAP ( DUP $7 AND $30 + PICK2 C! SWAP $1 - SWAP $3 >>> 1? ) DROP $1 + ;:wC9 ( w9E $30 + PICK2 C! SWAP $1 - SWAP 1? ) DROP $1 + $2E OVER C! $1 - OVER ABS $10 >> ( w9E $30 + PICK2 C! SWAP $1 - SWAP 1? ) DROP SWAP wC4 ;:wCA wC3 OVER ABS $FFFF AND $2710 $10 *>> $2710 + wC9 ;#wD9#wF8 0#wF9 * 512#wFA 'wF9:wFC wFA 'wF9 =? ( DROP MEM 'wF8 ! ; ) $8 - DUP 'wFA ! @ 'wF8 ! ;:w108 wF8 SWAP ( C@+ 1? ROT C!+ SWAP ) 2DROP 'wF8 ! ;:w109 wF8 SWAP ( C@+ $FF AND $20 >? ROT C!+ SWAP ) 2DROP 'wF8 ! ;:w10A wF8 SWAP ( C@+ 1? $A =? ( $3 + ) $D =? ( 2DROP 'wF8 ! ; ) ROT C!+ SWAP ) 2DROP 'wF8 ! ;:w115 ;:w116 ;:w117 SWAP wC6 w108 ;:w118 SWAP 0? ( DROP ; ) w108 ;:w119 SWAP wC5 w108 ;:w11A $25 wF8 C!+ 'wF8 ! ;:w11B SWAP wCA w108 ;:w11C SWAP 0? ( DROP ; ) w109 ;:w11D SWAP wC7 w108 ;:w11E SWAP $10 >> wC5 w108 ;:w11F SWAP $FFFF AND wC5 w108 ;:w120 SWAP wF8 C!+ 'wF8 ! ;:w121 SWAP 0? ( DROP ; ) w10A ;:w122 ;:w123 $D wF8 C!+ 'wF8 ! ;:w124 SWAP wC8 w108 ;#w125 'w115 'w116 'w117 'w118 'w119 'w11A 'w11B 'w11C 'w11D 'w11E 'w11F 'w120 'w121 'w122 'w123 'w124:w126 $25 <>? ( wF8 C!+ 'wF8 ! ; ) DROP C@+ $F AND $3 << 'w125 + @ EX ;#w128 * 4096:w129 wF8 wFA !+ 'wFA ! 'w128 'wF8 ! ( C@+ 1? w126 ) 2DROP $0 wF8 C!+ 'wF8 ! wFC 'w128 ;#w149#w14A#w14B:w1A3 w5A w1D SYS0 'wD9 ! MEM 'wF8 ! w0 SYS0 DROP -$A w3 SYS1 'w149 ! -$B w3 SYS1 'w14A ! -$C w3 SYS1 'w14B ! w149 $0 w8 SYS2 DROP w14A $7 w8 SYS2 DROP ;#w232#w233#w234#w235#w236#w237#w238#w239#w23A#w23B#w23C#w23D#w23E#w23F#w240#w241#w242#w243#w244#w245#w246#w247#w248#w249#w24A#w24B#w24C#w24D#w24E#w24F#w250#w251#w252#w253#w254#w255#w256#w257#w258#w259#w25A#w25B#w25C#w25D#w25E#w25F#w260#w261#w262#w263#w264#w265#w266#w267#w268#w269#w26A#w2A4#w2A5#w2A6#w2A7#w2A8:w2A9 'w2A8 ! 'w2A7 ! $3231 w232 SYS1 DROP $1FFF0000 DUP w2A7 w2A8 $0 w235 SYS6 DUP 'w2A4 ! w237 SYS1 'w2A5 ! w2A4 -$1 $0 w23C SYS3 'w2A6 ! w2A4 w238 SYS1 DROP ;#w2B0 * 56#w2B1#w2B2#w2B3#w2B4#w2B5:w2B6 $0 'w2B1 ! $0 'w2B2 ! $A w25C SYS1 DROP ( 'w2B0 w25D SYS1 1? DROP 'w2B0 D@ $300 =? ( DROP 'w2B0 $14 + D@ DUP $FFFF AND SWAP $10 >> OR 'w2B1 ! ; ) $301 =? ( DROP 'w2B0 $14 + D@ DUP $FFFF AND SWAP $10 >> OR $1000 OR 'w2B1 ! ; ) $303 =? ( DROP 'w2B0 $C + C@ 'w2B2 ! ; ) $400 =? ( DROP 'w2B0 $14 + D@+ 'w2B3 ! D@ 'w2B4 ! ; ) $401 =? ( DROP 'w2B0 $10 + C@ $1 - $1 SWAP << w2B5 OR 'w2B5 ! ; ) $402 =? ( DROP 'w2B0 $10 + C@ $1 - $1 SWAP << NOT w2B5 AND 'w2B5 ! ; ) DROP ) DROP ;#w2B9 0:w2BA $0 'w2B9 ! ( w2B9 0? DROP w2B6 DUP EX ) 2DROP w2B6 $0 'w2B9 ! ;:w2BD w1A3 "SDL2.DLL" LOADLIB DUP "SDL_Init" GETPROC 'w232 ! DUP "SDL_Quit" GETPROC 'w233 ! DUP "SDL_GetNumVideoDisplays" GETPROC 'w234 ! DUP "SDL_CreateWindow" GETPROC 'w235 ! DUP "SDL_SetWindowFullscreen" GETPROC 'w236 ! DUP "SDL_GetWindowSurface" GETPROC 'w237 ! DUP "SDL_ShowCursor" GETPROC 'w239 ! DUP "SDL_RaiseWindow" GETPROC 'w238 ! DUP "SDL_UpdateWindowSurface" GETPROC 'w23A ! DUP "SDL_DestroyWindow" GETPROC 'w23B ! DUP "SDL_CreateRenderer" GETPROC 'w23C ! DUP "SDL_CreateTexture" GETPROC 'w23D ! DUP "SDL_DestroyTexture" GETPROC 'w23E ! DUP "SDL_DestroyRenderer" GETPROC 'w23F ! DUP "SDL_UpdateTexture" GETPROC 'w240 ! DUP "SDL_RenderClear" GETPROC 'w241 ! DUP "SDL_RenderCopy" GETPROC 'w242 ! DUP "SDL_RenderCopyEx" GETPROC 'w243 ! DUP "SDL_RenderPresent" GETPROC 'w244 ! DUP "SDL_CreateTextureFromSurface" GETPROC 'w247 ! DUP "SDL_QueryTexture" GETPROC 'w248 ! DUP "SDL_SetTextureColorMod" GETPROC 'w268 ! DUP "SDL_SetTextureAlphaMod" GETPROC 'w269 ! DUP "SDL_SetRenderDrawColor" GETPROC 'w245 ! DUP "SDL_GetRenderDrawColor" GETPROC 'w246 ! DUP "SDL_CreateRGBSurface" GETPROC 'w249 ! DUP "SDL_LockSurface" GETPROC 'w24A ! DUP "SDL_UnlockSurface" GETPROC 'w24B ! DUP "SDL_UpperBlit" GETPROC 'w24C ! DUP "SDL_SetSurfaceBlendMode" GETPROC 'w24D ! DUP "SDL_FreeSurface" GETPROC 'w24E ! DUP "SDL_LockTexture" GETPROC 'w24F ! DUP "SDL_UnlockTexture" GETPROC 'w250 ! DUP "SDL_RenderSetLogicalSize" GETPROC 'w251 ! DUP "SDL_SetRenderDrawBlendMode" GETPROC 'w252 ! DUP "SDL_SetTextureBlendMode" GETPROC 'w253 ! DUP "SDL_ConvertSurfaceFormat" GETPROC 'w254 ! DUP "SDL_RenderDrawPoint" GETPROC 'w255 ! DUP "SDL_RenderDrawLine" GETPROC 'w256 ! DUP "SDL_RenderDrawRect" GETPROC 'w257 ! DUP "SDL_RenderFillRect" GETPROC 'w258 ! DUP "SDL_RenderGeometry" GETPROC 'w259 ! DUP "SDL_RenderSetClipRect" GETPROC 'w25B ! DUP "SDL_RenderReadPixels" GETPROC 'w25A ! DUP "SDL_Delay" GETPROC 'w25C ! DUP "SDL_PollEvent" GETPROC 'w25D ! DUP "SDL_GetTicks" GETPROC 'w25E ! DUP "SDL_RWFromFile" GETPROC 'w25F ! DUP "SDL_GL_SetAttribute" GETPROC 'w260 ! DUP "SDL_GL_CreateContext" GETPROC 'w261 ! DUP "SDL_GL_DeleteContext" GETPROC 'w262 ! DUP "SDL_GL_SetSwapInterval" GETPROC 'w263 ! DUP "SDL_GL_SwapWindow" GETPROC 'w264 ! DUP "SDL_GL_MakeCurrent" GETPROC 'w265 ! DUP "SDL_SetHint" GETPROC 'w26A ! DUP "SDL_GL_LoadLibrary" GETPROC 'w266 ! DUP "SDL_GL_GetProcAddress" GETPROC 'w267 ! DROP ;#w2BE#w2BF#w2C0#w2C1#w2C2#w2C3#w2C4#w2C5#w2C6#w2C7:w2D2 w2BF SYS1 0? ( ; ) w2A6 OVER w247 SYS2 SWAP w24E SYS1 DROP ;:w2D4 w2BD "SDL2_image.DLL" LOADLIB DUP "IMG_Load" GETPROC 'w2BF ! DUP "IMG_Init" GETPROC 'w2BE ! DUP "IMG_LoadTexture" GETPROC 'w2C0 ! DUP "IMG_LoadSizedSVG_RW" GETPROC 'w2C1 ! DUP "IMG_LoadAnimation" GETPROC 'w2C2 ! DUP "IMG_FreeAnimation" GETPROC 'w2C3 ! DUP "IMG_SavePNG" GETPROC 'w2C4 ! DUP "IMG_SavePNG_RW" GETPROC 'w2C5 ! DUP "IMG_SaveJPG" GETPROC 'w2C6 ! DUP "IMG_SaveJPG_RW" GETPROC 'w2C7 ! DROP $3 w2BE SYS1 DROP ;#w2D5 [ 0 0 0 0 ]#w2D6 [ 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 ]:w2DA DUP $10 >> $FF AND SWAP DUP $8 >> $FF AND SWAP $FF AND ;#w2E4#w2E5:w2F4 w2D2 DUP $0 $0 'w2E5 'w2E4 w248 SYS5 DROP wF8 >A A!+ 2DUP SWAP DA!+ DA!+ $0 ( w2E4 <? $0 ( w2E5 <? 2DUP DA!+ DA!+ PICK3 + ) DROP OVER + ) DROP 2DROP wF8 A> 'wF8 ! ;#w2F7 [ 0 0 0 0 ]:w2F8 SWAP 'w2F7 D!+ D! DUP $8 + @ DUP 'w2F7 $8 + ! 'w2D5 $8 + ! w2A6 ROT ROT @+ ROT $3 << ROT $8 + + @ 'w2D5 ! 'w2D5 'w2F7 w242 SYS4 DROP ;:w2FB 'w2D6 >A $FFFFFFFF $0 $3F800000 $8 A+ PICK2 DA!+ OVER DA!+ OVER DA!+ $8 A+ PICK2 DA!+ DUP DA!+ OVER DA!+ $8 A+ PICK2 DA!+ DUP DA!+ DUP DA!+ $8 A+ PICK2 DA!+ OVER DA!+ DUP DA!+ 3DROP ;:w311 wF8 DUP ROT !+ ! $7 << 'wF8 +! ;:w315 DUP >R @ !+ $80 R> +! ;:w317 NIP OVER @ $80 - 2DUP $10 MOVE DUP PICK3 ! SWAP $80 - ;:w318 DUP @+ SWAP @ ( OVER <? DUP DUP @ EX 0? ( DROP w317 ) $80 + ) 3DROP ;#w339#w33A#w33B#w33C 0 0#w33D 0 0:w33E w2D2 'w339 ! 2DUP $20 << OR DUP 'w33D $8 + ! 'w33C $8 + ! 'w33B ! 'w33A ! ;:w340 DUP $F AND w33A * SWAP $4 >> $F AND w33B * $20 << OR 'w33C ! w2A6 w339 'w33C 'w33D w242 SYS4 DROP w33A 'w33D D+! ;:w348 w129#w359#w35A 0 0#w35B 200.0#w35C 500.0#w35D#w35E#w35F#w360#w361 91:w362 $8 + >A $19 w359 A@+ $10 >> A@+ $10 >> w2F8 A@ A> $10 - +! A> $10 - @ $10 >> -$10 <? ( DROP $0 ; ) $320 >? ( DROP $0 ; ) DROP ;:w363 w361 $5B =? ( DROP $40000 ; ) DROP -$40000 ;:w364 'w362 'w35A w315 >A SWAP A!+ A!+ w363 A! ;:w365 $A0000000A 'w33D ! w360 w35F w35E w35D "%f %f %f %f" w129 w348 w361 w359 w35B $10 >> w35C $10 >> w2F8 w35B w35D w35F + $1E666 w79 -$1E666 w7A DUP 'w35D ! + 'w35B ! w35E w360 + $1999 + $50000 w79 -$40000 w7A 'w35E ! w35E 'w35C +! w35C $1F40000 >? ( $1F40000 'w35C ! $0 'w35E ! $0 'w35D ! ) DROP ;:w366 w2B1 $101B =? ( $1 'w2B9 ! ) $4052 =? ( -$3333 'w360 ! $5B 'w361 ! ) $5052 =? ( $0 'w360 ! ) $4050 =? ( -$3333 'w35F ! $5E 'w361 ! ) $5050 =? ( $0 'w35F ! ) $404F =? ( $3333 'w35F ! ) $504F =? ( $0 'w35F ! ) $20 =? ( w35B w35C w364 ) DROP ;:w367 $0 w2A6 SWAP w2DA $FF w245 SYS5 DROP w2A6 w241 SYS1 DROP 'w35A w318 w365 w2A6 w244 SYS1 DROP w366 ;:w368 $3E8 'w35A w311 "r3sdl" $320 $258 w2A9 $8 $10 "media/img/VGA8x16.png" w33E $40 $40 "media\img\sokoban_tilesheet.png" w2F4 'w359 ! 'w367 w2BA w2A6 w23F SYS1 DROP w2A4 w23B SYS1 DROP w233 SYS0 DROP ;: w2D4 w2FB w368 ;